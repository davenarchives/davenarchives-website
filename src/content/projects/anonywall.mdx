# The Anonymous Wall (AnonyWall)

---

## Project Overview

### Overview
AnonyWall is a privacy-first community app that blends an anonymous Freedom Wall with a multi-board forum. Users can browse or post anonymously, sign in with Google for a persistent profile, and report content for moderation. Admins review reports, resolve issues, and keep an audit trail.

### Architecture
- **Routing**: React Router v7 in `src/App.jsx` covers Home, Freedom Wall (`/browse` or `/freedom-wall`), Forum, ForumPost detail, Profile, Admin, and policy/contact pages.
- **State**:
  - `AuthContext` manages Firebase auth (Google + anonymous), profiles, and roles (admin via `VITE_ADMIN_EMAILS`).
  - `MessageContext` seeds demo Freedom Wall posts when Firestore is empty.
- **Backend services** (`src/backend/controllers`):
  - `messageController`, `postController`, `replyController`, `reportController`, `moderationController`, `userController`.
- **Models** (`src/backend/models`): builders for Message, Post, Reply enforce consistent fields, timestamps, and avatar seeds.
- **Config/data**: `src/backend/config/firebase.js` bootstraps Auth/Firestore; `src/data/boardConfig.js` defines forum boards, colors, icons, and rules.
- **UI components**: submit/report/login modals, forum post modal, stats blocks, theme/mood pickers, dicebear avatars, back-to-top, footer, and header navigation.

---

## Build & Ops

### Tech Stack
- React 19 + Vite (rolldown-vite) + React Router v7.
- Firebase (Auth + Firestore).
- Vanilla CSS with CSS variables; FontAwesome icons.
- ESLint for linting; TypeScript typings for editor support.

### Usage
Environment variables (`.env` in project root):
```env
VITE_FIREBASE_API_KEY=your_api_key
VITE_FIREBASE_AUTH_DOMAIN=your_project_id.firebaseapp.com
VITE_FIREBASE_PROJECT_ID=your_project_id
VITE_FIREBASE_STORAGE_BUCKET=your_project_id.appspot.com
VITE_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
VITE_FIREBASE_APP_ID=your_app_id
VITE_ADMIN_EMAILS=admin1@example.com,admin2@example.com
```
Scripts:
```bash
npm install
npm run dev      # http://localhost:5173
npm run lint
npm run build
npm run preview
```
Troubleshooting:
- Admin link missing: ensure email is listed in `VITE_ADMIN_EMAILS`.
- Empty Freedom Wall on first load: confirm `MessageContext` seeding and Firestore read rules.
- Auth issues: verify Firebase providers and env values match your Firebase project.
- Firestore permission errors: check rules for `messages`, `posts`, `reports`, `users`, `moderation_logs`.

### License
MIT License (see `LICENSE`).
